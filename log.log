amd64 JIT by Samuel Michael Squire
	https://github.com/samsquire/compiler

pagesize: 4096

Parsing code
function x(int arg, int anotherarg) {
  printf("From compiled function", 3);
  return arg + anotherarg;
}
x(1);
x(2);
FIRST INTO 0x5623f353f570
HASH TABLE 200
case 6953778704349: /* member */ 
break;
case 7572387384277067: /* function */ 
break;
case 5863476: /* if */ 
break;
case 6953974653989: /* return */ 
break;
case 6385555319: /* open */ 
break;
case 210708961883: /* close */ 
break;
case 210709067314: /* comma */ 
break;
case 193486030: /* add */ 
break;
case 7572940974490733: /* subtract */ 
break;
case 7572685654880005: /* multiply */ 
break;
case 193504464: /* rax */ 
break;
case 193504497: /* rbx */ 
break;
case 193504530: /* rcx */ 
break;
case 193504563: /* rdx */ 
break;
case 193505043: /* rsi */ 
break;
case 193504548: /* rdi */ 
break;
case 193505050: /* rsp */ 
break;
case 5863727: /* r8 */ 
break;
case 5863728: /* r9 */ 
break;
case 193502808: /* r10 */ 
break;
case 193502809: /* r11 */ 
break;
case 193502810: /* r12 */ 
break;
case 193502811: /* r13 */ 
break;
case 193502812: /* r14 */ 
break;
case 193502813: /* r15 */ 
break;

Getting token
parsebegin Skipping whitespace

-1 rc is
functionfunctionbodybegin Skipping whitespace

-1 rc is
Is a function x
open
-1 rc is
funcparamname Skipping whitespace

-1 rc is
type is int name is arg
there are 0 parameters
loopparameterlist Skipping whitespace

-1 rc is
funcparamname Skipping whitespace

-1 rc is
type is int name is anotherarg
there are 1 parameters
commacheck CLOSE TAG
loopparameterlist CLOSE TAG
functioncurlyopencheck Skipping whitespace
function parse INTO 0x5623f3540820functionbodyitem Skipping whitespace
functionbodyitem Skipping whitespace
functionbodyitem Skipping whitespace

-1 rc is
Hash for token printf is 6953911397304
functionparse parseexpression Is an identifier printf
identifier expression 0x5623f3541360
statements 0x5623f3540e80
expression location 0 0x5623f3540fd0
 identifier printf 0
Hash for token open is 6385555319
open bracket
OWNER 0
 identifier printf 0
expression location 1 0x5623f3540fd0
 method call (null) 0
  identifier printf 0
Parsing subexpression


inside a quote


-1 rc is
Hash for token From compiled function is 445954035697000300
exprparse parseexpression Is an identifier From compiled function
identifier expression 0x5623f3542720
statements 0x5623f35420a0
expression location 1 0x5623f3542390
 identifier printf 0
 identifier From compiled function 0
Hash for token comma is 210709067314
exprparse Comma encountered, creating new statement
functionbodyitem Skipping whitespace

-1 rc is
Hash for token 3 is 177624
exprparse parseexpression Is an identifier 3
identifier expression 0x5623f35432c0
statements 0x5623f3542ab0
expression location 0 0x5623f3542f30
 identifier 3 3
functionbodyitem CLOSE TAG
functionbodyitem CLOSE expression
Hash for token endstatement is -3372849529167478127
functionparse End of statement
functionbodyitem Skipping whitespace
functionbodyitem Skipping whitespace
functionbodyitem Skipping whitespace

-1 rc is
Hash for token return is 6953974653989
functionparse Return statement
0x5623f35436b0
functionbodyitem Skipping whitespace

-1 rc is
Hash for token arg is 193486495
functionparse parseexpression Is an identifier arg
identifier expression 0x5623f35447b0
statements 0x5623f3543b90
expression location 0 0x5623f3544420
 identifier arg 0
functionbodyitem Skipping whitespace
Hash for token add is 193486030
functionbodyitem Skipping whitespace

-1 rc is
Hash for token anotherarg is 8246088023294516080
functionparse parseexpression Is an identifier anotherarg
identifier expression 0x5623f354ac80
statements 0x5623f35454b0
expression location 1 0x5623f354a8f0
 identifier arg 0
 identifier anotherarg 0
functionbodyitem CLOSE expression
Hash for token endstatement is -3372849529167478127
functionparse End of statement
functionbodyitem Skipping whitespace
Getting token
parsebegin Skipping whitespace

-1 rc is
xfunctionparse Funcbody Is an identifier x
functionparse New position is 0
identifier INTO 0x5623f353f570
Hash for token open is 6385555319
open bracket
OWNER 0
 identifier x 0
expression location 1 0x5623f354b490
 method call (null) 0
  identifier x 0
Parsing subexpression

-1 rc is
Hash for token 1 is 177622
exprparse parseexpression Is an identifier 1
identifier expression 0x5623f354e690
statements 0x5623f354e170
expression location 1 0x5623f354e300
 identifier x 0
 identifier 1 1
functionbodyitem CLOSE TAG
functionbodyitem CLOSE expression
Hash for token endstatement is -3372849529167478127
identifier End of statement
functionbodyitem Skipping whitespace

-1 rc is
Hash for token x is 177693
identifier parseexpression Is an identifier x
identifier expression 0x5623f354f230
statements 0x5623f354ea20
expression location 0 0x5623f354eea0
 identifier x 0
Hash for token open is 6385555319
open bracket
OWNER 0
 identifier x 0
expression location 1 0x5623f354eea0
 method call (null) 0
  identifier x 0
Parsing subexpression

-1 rc is
Hash for token 2 is 177623
exprparse parseexpression Is an identifier 2
identifier expression 0x5623f354f7d0
statements 0x5623f354f5e0
expression location 1 0x5623f354f770
 identifier x 0
 identifier 2 2
functionbodyitem CLOSE TAG
end early
functionbodyitem CLOSE expression
#### Code:
function x(int arg, int anotherarg) {
  printf("From compiled function", 3);
  return arg + anotherarg;
}
x(1);
x(2);
Dumping AST
 method call (null) 0
  identifier x 0
  identifier 1 1
 method call (null) 0
  identifier x 0
  identifier 2 2
##########Function x
- parameter name arg
- parameter type int
- parameter name anotherarg
- parameter type int
Has 3 statements
 method call (null) 0
  identifier printf 0
  identifier From compiled function 0
  identifier 3 3
 return (null) 0
  add (null) 0
   identifier arg 0
   identifier anotherarg 0
Dumping ANF
ANF for function x
identifier 3 3
identifier From compiled function 0
identifier printf 0
method call
identifier anotherarg 0
identifier arg 0
add
return
ANF for main
identifier 1 1
identifier x 0
method call
identifier 2 2
identifier x 0
method call
Assigning registers
Found method call
Found expression in method call 5 x rax
Found expression in method call 5 1 rcx
Found method call
Found expression in method call 5 x rax
Found expression in method call 5 2 rcx
FOUND PRECOLOURED REGISTER 0x5623f34ec539
Created a identifier reference
FOUND PRECOLOURED REGISTER 0x5623f34ec531
Created a identifier reference
Method call Assigning 1920300142 to variable t0
FOUND PRECOLOURED REGISTER 0x5623f34ec539
Created a identifier reference
FOUND PRECOLOURED REGISTER 0x5623f34ec531
Created a identifier reference
Method call Assigning 1920300145 to variable t2
1 <- 1
x <- x
t1 <- x(1 , )
2 <- 2
x <- x
t3 <- x(2 , )
Found method call
Found expression in method call 5 printf rax
Found expression in method call 5 From compiled function rcx
Found expression in method call 5 3 rdx
FOUND PRECOLOURED REGISTER 0x5623f34ec53d
Created a identifier reference
FOUND PRECOLOURED REGISTER 0x5623f34ec539
Created a identifier reference
FOUND PRECOLOURED REGISTER 0x5623f34ec531
Created a identifier reference
Method call Assigning 1920300134 to variable t0
FOUND PRECOLOURED REGISTER 0x8602
Created a identifier reference
Created a identifier reference
FOUND PRECOLOURED REGISTER 0x8602
Add operation Assigning 1920300139 to variable t2
Return operation Assigning 1920300137 to variable t3
3 <- 3
From compiled function <- From compiled function
printf <- printf
t1 <- printf(From compiled function , 3 , )
anotherarg <- anotherarg
arg <- arg
t2 <- arg + anotherarg
t3 <- t2 (ret)


from /proc/self/maps:
5623f353e000-5623f3580000 rw-p 00000000 00:00 0                          [heap]
heap start is 5623f353e000
1
looking up 1
key doesn't exist
x
looking up x
key doesn't exist
x
looking up x
key exists
1
looking up 1
key exists
2
looking up 2
key doesn't exist
x
looking up x
key exists
x
looking up x
key exists
2
looking up 2
key exists
Variable 1 appears 0-2
Variable x appears 1-5
Variable 2 appears 3-5
Assigning rax to 5
Assigning rcx to 4
Assigning rdx to 3
Assigning rbx to 2
Assigning rsi to 1
Assigning rdi to 0
Instruction 1 1 <- 1 appears in range of 0-2
assignment position 5
Assigned register rax to 1 <- 1 <- 1
Instruction 1 x <- x appears in range of 0-2
assignment position 4
Instruction x x <- x appears in range of 1-5
assignment position 4
Assigned register rcx to x <- x <- x
Instruction 1 t1 <- x(1 , ) appears in range of 0-2
Register rax is free
assignment position 4
Instruction x t1 <- x(1 , ) appears in range of 1-5
assignment position 4
Instruction x 2 <- 2 appears in range of 1-5
assignment position 4
Instruction 2 2 <- 2 appears in range of 3-5
assignment position 4
Assigned register rax to 2 <- 2 <- 2
Instruction x x <- x appears in range of 1-5
assignment position 3
Instruction 2 x <- x appears in range of 3-5
assignment position 3
Instruction x t3 <- x(2 , ) appears in range of 1-5
Register rcx is free
assignment position 4
Instruction 2 t3 <- x(2 , ) appears in range of 3-5
Register rax is free
assignment position 5
### DOING GRAPH COLOURING
6 assignments
Variable 0: 1920300143-1 
Found reference 1920300143-1 to 1
identifier 1 1
Forward link to 1920300143-1 NOT found
0x5623f3564cc0
Links to 1920300143-1
- 1
Variable 1: 1920300141-x 
Found reference 1920300141-x to x
identifier x 0
Forward link to 1920300141-x NOT found
0x5623f3565050
Links to 1920300141-x
- x
Variable 2: 1920300142-t0 
Found reference 1920300142-t0 to x
method call (null) 0
 identifier x 0
 identifier 1 1
Forward link to 1920300142-t0 NOT found
0x5623f3565400
Links to 1920300142-t0
- x
Found reference 1920300142-t0 to 1
method call (null) 0
 identifier x 0
 identifier 1 1
Forward link to 1920300142-t0 found
0x5623f3565400
Links to 1920300142-t0
- x
- 1
Variable 3: 1920300146-2 
Found reference 1920300146-2 to 2
identifier 2 2
Forward link to 1920300146-2 NOT found
0x5623f35657f0
Links to 1920300146-2
- 2
Variable 4: 1920300144-x 
Found reference 1920300144-x to x
identifier x 0
Forward link to 1920300144-x NOT found
0x5623f3565b80
Links to 1920300144-x
- x
Variable 5: 1920300145-t2 
Found reference 1920300145-t2 to x
method call (null) 0
 identifier x 0
 identifier 2 2
Forward link to 1920300145-t2 NOT found
0x5623f3565f30
Links to 1920300145-t2
- x
Found reference 1920300145-t2 to 2
method call (null) 0
 identifier x 0
 identifier 2 2
Forward link to 1920300145-t2 found
0x5623f3565f30
Links to 1920300145-t2
- x
- 2
FOUND EDGE WITH EDGE COUNT < 6 t1
identifier x 0
identifier 1 1
FOUND EDGE WITH EDGE COUNT < 6 x
FOUND EDGE WITH EDGE COUNT < 6 1
FOUND EDGE WITH EDGE COUNT < 6 x
FOUND EDGE WITH EDGE COUNT < 6 2
FOUND EDGE WITH EDGE COUNT < 6 t3
identifier x 0
identifier 2 2
Found method call
Found expression in method call 5 x rax
Found expression in method call 5 1 rcx
Found method call
Found expression in method call 5 x rax
Found expression in method call 5 2 rcx
###### GRAPH COLOUR STACK ITEM
#### 6 registers available
 - rax - rcx - rdx - rbx - rsi - rdi
identifier x 0
identifier 2 2
t3 Doesn't have a register assigned
Chosen rax
###### GRAPH COLOUR STACK ITEM
#### 5 registers available
 - rax - rcx - rdx - rbx - rsi
Vertice is precoloured 2 rax
Found removed register in 0
###### GRAPH COLOUR STACK ITEM
#### 4 registers available
 - rcx - rdx - rbx - rsi
Vertice is precoloured x rax
###### GRAPH COLOUR STACK ITEM
#### 3 registers available
 - rcx - rdx - rbx
Vertice is precoloured 1 rax
###### GRAPH COLOUR STACK ITEM
#### 2 registers available
 - rcx - rdx
Vertice is precoloured x rcx
Found removed register in 0
###### GRAPH COLOUR STACK ITEM
#### 1 registers available
 - rdx
identifier x 0
identifier 1 1
t1 Doesn't have a register assigned
Chosen (null)
1 register = rax
x register = rcx
t1 register = (null)
2 register = rax
x register = rax
t3 register = rax
### END GRAPH COLOURING
3
looking up 3
key doesn't exist
From compiled function
looking up From compiled function
key doesn't exist
printf
looking up printf
key doesn't exist
printf
looking up printf
key exists
From compiled function
looking up From compiled function
key exists
3
looking up 3
key exists
anotherarg
looking up anotherarg
key doesn't exist
arg
looking up arg
key doesn't exist
arg
looking up arg
key exists
anotherarg
looking up anotherarg
key exists
t2
looking up t2
key doesn't exist
Variable 3 appears 0-3
Variable From compiled function appears 1-3
Variable printf appears 2-3
Variable anotherarg appears 4-6
Variable arg appears 5-6
Variable t2 appears 6-7
Assigning rax to 5
Assigning rcx to 4
Assigning rdx to 3
Assigning rbx to 2
Assigning rsi to 1
Assigning rdi to 0
Instruction 3 3 <- 3 appears in range of 0-3
assignment position 5
Assigned register rax to 3 <- 3 <- 3
Instruction 3 From compiled function <- From compiled function appears in range of 0-3
assignment position 4
Instruction From compiled function From compiled function <- From compiled function appears in range of 1-3
assignment position 4
Assigned register rcx to From compiled function <- From compiled function <- From compiled function
Instruction 3 printf <- printf appears in range of 0-3
assignment position 3
Instruction From compiled function printf <- printf appears in range of 1-3
assignment position 3
Instruction printf printf <- printf appears in range of 2-3
assignment position 3
Assigned register rdx to printf <- printf <- printf
Instruction 3 t1 <- printf(From compiled function , 3 , ) appears in range of 0-3
Register rax is free
assignment position 3
Instruction From compiled function t1 <- printf(From compiled function , 3 , ) appears in range of 1-3
Register rcx is free
assignment position 4
Instruction printf t1 <- printf(From compiled function , 3 , ) appears in range of 2-3
Register rdx is free
assignment position 5
Instruction anotherarg anotherarg <- anotherarg appears in range of 4-6
assignment position 5
Assigned register rdx to anotherarg <- anotherarg <- anotherarg
Instruction anotherarg arg <- arg appears in range of 4-6
assignment position 4
Instruction arg arg <- arg appears in range of 5-6
assignment position 4
Assigned register rcx to arg <- arg <- arg
Instruction anotherarg t2 <- arg + anotherarg appears in range of 4-6
Register rdx is free
assignment position 4
Instruction arg t2 <- arg + anotherarg appears in range of 5-6
Register rcx is free
assignment position 5
Instruction t2 t2 <- arg + anotherarg appears in range of 6-7
assignment position 5
Assigned register rcx to t2 <- t2 <- arg + anotherarg
Instruction t2 t3 <- t2 (ret) appears in range of 6-7
Register rcx is free
assignment position 5
### DOING GRAPH COLOURING
8 assignments
Variable 0: 1920300136-3 
Found reference 1920300136-3 to 3
identifier 3 3
Forward link to 1920300136-3 NOT found
0x5623f3567fc0
Links to 1920300136-3
- 3
Variable 1: 1920300135-From compiled function 
Found reference 1920300135-From compiled function to From compiled function
identifier From compiled function 0
Forward link to 1920300135-From compiled function NOT found
0x5623f3568350
Links to 1920300135-From compiled function
- From compiled function
Variable 2: 1920300133-printf 
Found reference 1920300133-printf to printf
identifier printf 0
Forward link to 1920300133-printf NOT found
0x5623f35686e0
Links to 1920300133-printf
- printf
Variable 3: 1920300134-t0 
Found reference 1920300134-t0 to printf
method call (null) 0
 identifier printf 0
 identifier From compiled function 0
 identifier 3 3
Forward link to 1920300134-t0 NOT found
0x5623f3568ab0
Links to 1920300134-t0
- printf
Found reference 1920300134-t0 to From compiled function
method call (null) 0
 identifier printf 0
 identifier From compiled function 0
 identifier 3 3
Forward link to 1920300134-t0 found
0x5623f3568ab0
Links to 1920300134-t0
- printf
- From compiled function
Found reference 1920300134-t0 to 3
method call (null) 0
 identifier printf 0
 identifier From compiled function 0
 identifier 3 3
Forward link to 1920300134-t0 found
0x5623f3568ab0
Links to 1920300134-t0
- printf
- From compiled function
- 3
Variable 4: 1920300140-anotherarg 
Found reference 1920300140-anotherarg to anotherarg
identifier anotherarg 0
Forward link to 1920300140-anotherarg NOT found
0x5623f3568f40
Links to 1920300140-anotherarg
- anotherarg
Variable 5: 1920300138-arg 
Found reference 1920300138-arg to arg
identifier arg 0
Forward link to 1920300138-arg NOT found
0x5623f35692d0
Links to 1920300138-arg
- arg
Variable 6: 1920300139-°Vó#V 
Found reference 1920300139-°Vó#V to arg
add (null) 0
 identifier arg 0
 identifier anotherarg 0
Forward link to 1920300139-°Vó#V NOT found
0x5623f3569680
Links to 1920300139-°Vó#V
- arg
Found reference 1920300139-°Vó#V to anotherarg
add (null) 0
 identifier arg 0
 identifier anotherarg 0
Forward link to 1920300139-°Vó#V found
0x5623f3569680
Links to 1920300139-°Vó#V
- arg
- anotherarg
Variable 7: 1920300137-°Vó#V 
Found reference 1920300137-°Vó#V to t2
return (null) 0
 add (null) 0
  identifier arg 0
  identifier anotherarg 0
Forward link to 1920300137-°Vó#V NOT found
0x5623f3569ab0
Links to 1920300137-°Vó#V
- t2
FOUND EDGE WITH EDGE COUNT < 6 t2
add (null) 0
 identifier arg 0
 identifier anotherarg 0
FOUND EDGE WITH EDGE COUNT < 6 anotherarg
FOUND EDGE WITH EDGE COUNT < 6 From compiled function
FOUND EDGE WITH EDGE COUNT < 6 t2
identifier arg 0
identifier anotherarg 0
FOUND EDGE WITH EDGE COUNT < 6 printf
FOUND EDGE WITH EDGE COUNT < 6 arg
FOUND EDGE WITH EDGE COUNT < 6 t1
identifier printf 0
identifier From compiled function 0
FOUND EDGE WITH EDGE COUNT < 6 3
Found method call
Found expression in method call 5 printf rax
Found expression in method call 5 From compiled function rcx
Found expression in method call 5 3 rdx
###### GRAPH COLOUR STACK ITEM
#### 6 registers available
 - rax - rcx - rdx - rbx - rsi - rdi
Vertice is precoloured 3 rax
Found removed register in 0
###### GRAPH COLOUR STACK ITEM
#### 5 registers available
 - rcx - rdx - rbx - rsi - rdi
identifier printf 0
identifier From compiled function 0
t1 Doesn't have a register assigned
Chosen rcx
###### GRAPH COLOUR STACK ITEM
#### 4 registers available
 - rcx - rdx - rbx - rsi
Vertice is precoloured arg rcx
Found removed register in 0
###### GRAPH COLOUR STACK ITEM
#### 3 registers available
 - rdx - rbx - rsi
Vertice is precoloured printf rdx
Found removed register in 0
###### GRAPH COLOUR STACK ITEM
#### 2 registers available
 - rbx - rsi
identifier arg 0
identifier anotherarg 0
Vertice is precoloured t2 rcx
###### GRAPH COLOUR STACK ITEM
#### 1 registers available
 - rbx
Vertice is precoloured From compiled function rcx
###### GRAPH COLOUR STACK ITEM
#### 6 registers available
 - rax - rcx - rdx - rbx - rsi - rdi
Vertice is precoloured anotherarg rdx
Found removed register in 2
###### GRAPH COLOUR STACK ITEM
#### 5 registers available
 - rax - rcx - rbx - rsi - rdi
add (null) 0
 identifier arg 0
 identifier anotherarg 0
t2 Doesn't have a register assigned
Chosen rcx
3 register = rax
From compiled function register = rcx
printf register = rdx
t1 register = rcx
anotherarg register = rdx
arg register = rcx
t2 register = rcx
t2 register = rcx
### END GRAPH COLOURING
Codegen for main
generating code region for function x 4096
Generating reference
3 3 <- 3
reference 3
mov $3, %rax
48
c7
c0
3
0
0
0
Generating reference
Generating method call
Resolving function printf
Inspecting function x
printf
Method call to function printf at 0x7f6852a5c740
From compiled function 0x5623f3542300
0x5623f3542300 0x5623f3542300 relative pointer 94712406221568
0x7f6852a5c740 0x7f6852a5c740 relative pointer 140086039922496
Generating reference
Generating reference
Generating add
3 add bytes length
Add instruction left is rcx
Right instruction right is rdx
my register is rcx
register left is destination register3 operand move bytes length

55 48 c7 c0 3 0 0 0 
48 bf 0 23 54 f3 23 56 
0 0 48 b8 40 c7 a5 52 
68 7f 0 0 48 ff d0 48 
1 0 48 1 ca 5d c3 0 
0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 
0 0 0 0 GENERATING 55
Generating reference
1 1 <- 1
reference 1
mov $1, %rax
48
c7
c0
1
0
0
0
Generating method call
Resolving function x
Inspecting function x
x
Method call to function x at 0x7f6852cff000
1 0x5623f354e270
0x5623f354e270 0x5623f356ac60 creating function id 94712406387808
0x5623f34885da creating function stub 94712405460442
Generating reference
2 2 <- 2
reference 2
mov $2,